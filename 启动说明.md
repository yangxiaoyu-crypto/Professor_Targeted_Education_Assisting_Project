# 项目启动说明

## 一、环境准备

### 1. 安装Node.js
确保已安装Node.js 16或更高版本。

检查版本：
```bash
node -v
npm -v
```

### 2. 安装依赖

在项目根目录下运行：
```bash
npm install
```

这将安装所有必要的依赖包，包括：
- React 18
- Ant Design 5
- Vite 5
- Axios
- React Markdown
- 等等...

## 二、配置说明

### 1. 服务器配置

项目已配置连接到山东大学服务器：
- API网关：`http://10.102.32.223:8080`
- VLLM大模型：`http://10.102.32.223:8000/v1`
- Embedding服务：`http://10.2.8.77:3000/v1/embeddings`

配置文件位置：`src/config/env.js`

### 2. 知识库路径

知识库文件位于：`../知识库（仅按格式分类）/`

包含：
- PDF教学文献（100+篇）
- Word文档（教学指南、量表等）
- 图片资料

## 三、启动项目

### 开发模式

```bash
npm run dev
```

启动后，浏览器访问：`http://localhost:3000`

### 生产构建

```bash
npm run build
```

构建完成后，产物在 `dist` 目录下。

### 预览生产版本

```bash
npm run preview
```

## 四、网络要求

⚠️ **重要提示**：

1. **校园网访问**：
   - 需要连接到山东大学校园网
   - 或通过VPN访问校园网

2. **服务器访问**：
   - 确保能ping通 `10.102.32.223`
   - 确保能ping通 `10.2.8.77`

3. **防火墙设置**：
   - 确保8080、8000、3000端口未被阻止

## 五、功能测试

### 1. 测试课程大纲生成
1. 进入"课程大纲生成"页面
2. 填写课程信息
3. 点击"生成课程大纲"
4. 查看是否正常生成内容

### 2. 测试参与式学习
1. 进入"参与式学习"页面
2. 选择一种教学方法（如BOPPPS）
3. 填写课程信息
4. 生成教学方案

### 3. 测试其他模块
依次测试：
- 学习目标撰写
- 学生评估方案
- 课程思政设计
- 课程方案对比

## 六、常见问题

### Q1: npm install失败
**解决方案**：
```bash
# 清除缓存
npm cache clean --force

# 使用淘宝镜像
npm install --registry=https://registry.npmmirror.com

# 或使用yarn
npm install -g yarn
yarn install
```

### Q2: 无法连接到服务器
**检查步骤**：
1. 确认是否在校园网环境
2. 检查VPN连接
3. ping服务器地址
4. 检查防火墙设置

### Q3: 页面显示异常
**解决方案**：
1. 清除浏览器缓存
2. 使用无痕模式测试
3. 更换浏览器（推荐Chrome）
4. 检查控制台错误信息

### Q4: AI生成内容失败
**可能原因**：
1. 网络连接问题
2. 服务器繁忙
3. 输入内容格式问题

**解决方案**：
1. 检查网络连接
2. 稍后重试
3. 简化输入内容测试

## 七、开发调试

### 查看控制台日志
按F12打开开发者工具，查看：
- Console：JavaScript错误和日志
- Network：网络请求状态
- React DevTools：组件状态

### API调试
所有API请求通过 `src/services/api.js` 发送，可以在此文件中添加日志：

```javascript
console.log('Request:', config);
console.log('Response:', response);
```

### 修改配置
编辑 `src/config/env.js` 文件可修改服务器地址等配置。

## 八、部署说明

### 本地部署
```bash
npm run build
npm install -g serve
serve -s dist
```

### 服务器部署
1. 构建项目：`npm run build`
2. 将 `dist` 目录上传到服务器
3. 配置Nginx或Apache指向dist目录
4. 配置HTTPS（推荐）

### Nginx配置示例
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/dist;
    index index.html;

    location / {
        try_files $uri $uri/ /index.html;
    }

    location /api {
        proxy_pass http://10.102.32.223:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## 九、性能优化建议

1. **启用生产构建**：使用 `npm run build` 而非开发模式
2. **启用Gzip压缩**：在服务器配置中启用
3. **使用CDN**：加速静态资源加载
4. **懒加载**：大组件使用React.lazy
5. **缓存策略**：配置合理的HTTP缓存头

## 十、安全建议

1. **HTTPS**：生产环境使用HTTPS
2. **API密钥**：不要在前端暴露敏感密钥
3. **输入验证**：对用户输入进行验证和清理
4. **CORS配置**：限制允许的域名
5. **定期更新**：及时更新依赖包修复安全漏洞

## 十一、技术支持

如遇到问题：

1. **查看文档**：
   - README.md
   - 使用说明.md
   - 本文档

2. **检查日志**：
   - 浏览器控制台
   - 服务器日志

3. **联系团队**：
   - 发送问题详细描述
   - 附带错误截图/日志
   - 说明操作步骤

---

**祝您使用顺利！** 🚀

如有任何问题，请随时联系项目团队。

